(this["webpackJsonpgithub-search"]=this["webpackJsonpgithub-search"]||[]).push([[0],{22:function(e,t,a){e.exports=a(58)},28:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(18),l=a.n(r),s=(a(27),a(28),a(2)),o=a(8),i=a.n(o),u=a(19),m=a(4),g=a.n(m),f=a(3),v=a.n(f),d=(a(49),Object(n.forwardRef)((function(e,t){var a=e.value,n=e.onChange,r=e.className,l=e.name,s=e.onFocus,o=e.onKeyDown,i=e.onKeyUp,u=e.placeholder,m=void 0===u?"":u,g=e.type,f=void 0===g?"text":g;return c.a.createElement("input",{ref:t,value:a,className:"input ".concat(r||""),name:l,onChange:n,onFocus:s,onKeyDown:o,onKeyUp:i,placeholder:m,type:f,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false"})})));d.propTypes={value:v.a.string,onChange:v.a.func,className:v.a.string,name:v.a.string,onFocus:v.a.func,onKeyDown:v.a.func,onKeyUp:v.a.func,placeholder:v.a.string,type:v.a.string};var p=d;a(50);var b=function(e){var t=e.className,a=e.onClick,n=e.icon;return c.a.createElement("button",{className:"btn ".concat(t||""),onClick:a},n)};var h=function(){return c.a.createElement("svg",{viewBox:"0 0 24 24",className:"icon icon--search"},c.a.createElement("title",null,"search"),c.a.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}))};var E=function(){return c.a.createElement("svg",{viewBox:"0 0 24 24",className:"icon icon--cross"},c.a.createElement("title",null,"cross"),c.a.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}))},k=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return function(){for(var n=this,c=arguments.length,r=new Array(c),l=0;l<c;l++)r[l]=arguments[l];clearTimeout(t),t=setTimeout((function(){e.apply(n,r)}),a)}},_="https://api.github.com",y=[{key:"javascript",title:"JavaScript",isEnabled:!1},{key:"java",title:"Java",isEnabled:!1},{key:"html",title:"HTML",isEnabled:!1},{key:"c%2B%2B",title:"C++",isEnabled:!1},{key:"python",title:"Python",isEnabled:!1},{key:"css",title:"CSS",isEnabled:!1},{key:"shell",title:"Shell",isEnabled:!1},{key:"c%23",title:"C#",isEnabled:!1},{key:"php",title:"PHP",isEnabled:!1},{key:"c",title:"C",isEnabled:!1}],C=a(20),N=a.n(C)()(g.a,{maxCacheSize:50}),j=new RegExp("".concat(_,"/search/repositories"));N.__addFilter(j);var O=N,S=function(e){var t=e.query,a=e.page,n=void 0===a?"1":a,c=e.sort,r=void 0===c?"stars":c,l=e.order,s=void 0===l?"desc":l,o=e.languages,i=e.cancelTokenSource;try{var u="";o&&o.forEach((function(e){e.isEnabled&&(u+="+language:".concat(e.key))}));var m="".concat(_,"/search/repositories?q=").concat(t).concat(u,"&sort=").concat(r,"&order=").concat(s,"&page=").concat(n,"&per_page=").concat(30);return O.get(m,{cancelToken:i.token})}catch(f){g.a.isCancel(f)||console.log(f)}};var P=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,c=Object(n.useRef)();Object(n.useEffect)((function(){c.current=t}),[t]),Object(n.useEffect)((function(){if(a&&a.addEventListener){var t=function(e){return c.current(e)};return a.addEventListener(e,t),function(){a.removeEventListener(e,t)}}}),[e,a])};a(51);var x=function(e){var t=e.setIsSearchOpen,a=e.setResults,r=e.languages,l=e.sorting,o=e.currentPage,m=e.setIsLoading,f=Object(n.useState)(""),v=Object(s.a)(f,2),d=v[0],_=v[1],y=Object(n.useRef)(null),C=g.a.CancelToken.source(),N=function(){t(!1),y.current.blur()};P("keyup",(function(e){13!==e.keyCode&&27!==e.keyCode||N()}));var j=function(){var e=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,S({query:t,page:o,sort:l,languages:r,cancelTokenSource:C});case 4:(n=e.sent)&&200===n.status&&a(n.data),m(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),m(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){if(r||l||o){var e=d.trim();e.length>2&&j(e)}}),[r,l,o]);var O=k((function(e){j(e)}),500);return c.a.createElement(c.a.Fragment,null,c.a.createElement(b,{className:"btn--search-close",icon:c.a.createElement(E,null),onClick:N}),c.a.createElement("div",{className:"search__form"},c.a.createElement(p,{ref:y,value:d,onChange:function(e){return _(e.target.value)},onKeyDown:function(e){13!==e.keyCode&&C.cancel("Request canceled")},onKeyUp:function(e){var t=e.target.value.trim();t.length>2&&O(t)},onFocus:function(){t(!0),y.current.focus()},className:"search__input",name:"search",type:"search"}),c.a.createElement(b,{className:"btn--search",icon:c.a.createElement(h,null)})))};a(52);var w=function(e){var t=e.results,a=Object(n.useState)(null),r=Object(s.a)(a,2),l=r[0],o=r[1];Object(n.useEffect)((function(){t&&t.items?o(t.items):o(null)}),[t]);var i=l&&l.length>0,u=c.a.createElement("div",{className:"results-table__row",role:"rowgroup"},["Id","Name and link","Description","Language","Forks","Stars"].map((function(e,t){return c.a.createElement("div",{key:"header-".concat(t),className:"results-table__col",role:"columnheader"},e)}))),m=l&&l.map((function(e){var t=e.id,a=e.html_url,n=e.name,r=e.description,l=e.language,s=e.forks_count,o=e.stargazers_count;return c.a.createElement("div",{className:"results-table__row",role:"rowgroup",key:t},c.a.createElement("div",{className:"results-table__col results-table__col--left",role:"cell"},t),c.a.createElement("div",{className:"results-table__col",role:"cell"},c.a.createElement("a",{href:a,target:"_blank"},n)),c.a.createElement("div",{className:"results-table__col results-table__col--left results-table__col--desktop",role:"cell"},r),c.a.createElement("div",{className:"results-table__col",role:"cell"},l),c.a.createElement("div",{className:"results-table__col",role:"cell"},s),c.a.createElement("div",{className:"results-table__col",role:"cell"},o))}));return c.a.createElement("div",{className:"search-results"},i&&c.a.createElement("div",{className:"results-table",role:"table","aria-label":"Search results"},u,m))},L=a(21),D=a(7);a(53);var I=function(e){var t=e.text,a=e.value,n=e.checked,r=e.onChange;return c.a.createElement("label",{className:"radio-btn"},t,c.a.createElement("input",{type:"radio",name:"radio",checked:n,value:a,onChange:r}),c.a.createElement("span",{className:"radio-btn__checkmark"}))};a(54);var F=function(e){var t=e.languages,a=e.setLanguages,n=e.sorting,r=e.setSorting,l=t&&c.a.createElement("ul",{className:"language-list"},t.map((function(e){return c.a.createElement("li",{key:e.key,className:"language-list__item ".concat(e.isEnabled?"language-list__item--active":""),onClick:function(){return function(e){var n=Object(D.a)(t);a(n.map((function(t){return e===t.key?Object(L.a)({},t,{isEnabled:!t.isEnabled}):t})))}(e.key)}},e.title)}))),s=function(e){r(e.target.value)};return c.a.createElement("div",{className:"search__suggestion"},c.a.createElement("h3",null,"Write Github repo name and hit Enter. Click to filter results by language:"),l,c.a.createElement("div",{className:"sorting-form"},c.a.createElement("span",{className:"sorting-form__title"},"Sort results by"),c.a.createElement(I,{text:"Stars",value:"stars",checked:"stars"===n,onChange:s}),c.a.createElement(I,{text:"Forks",value:"forks",checked:"forks"===n,onChange:s})))},K=function(e){var t,a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30,r=Math.ceil(e/c);r<=10?(t=1,a=r):n<=6?(t=1,a=10):n+4>=r?(t=r-9,a=r):(t=n-5,a=n+4);var l=(n-1)*c,s=Math.min(l+c-1,e-1),o=Object(D.a)(Array(a+1-t).keys()).map((function(e){return t+e}));return{totalItems:e,currentPage:n,pageSize:c,totalPages:r,startPage:t,endPage:a,startIndex:l,endIndex:s,pages:o}};a(55);var R=function(e){var t=e.totalItems,a=e.setCurrentPage,r=e.isLoading,l=Object(n.useState)({}),o=Object(s.a)(l,2),i=o[0],u=o[1],m=function(e){if(!(e<1||e>i.totalPages)){var n=K(t,e,30);u(n),a(e)}},g=Object(n.useRef)(null);Object(n.useEffect)((function(){!t&&0!==t||t===g||(g.current=t,m(1))}),[t]);var f=function(e){var t=e.key,a=e.text,n=e.isActive,r=e.isDisabled,l=e.onlyDesktop,s=e.onClick;return c.a.createElement("li",{key:t,className:"pagination__list-item ".concat(n?"pagination__list-item--active":""," ").concat(r?"pagination__list-item--disabled":""," ").concat(l?"pagination__list-item--desktop":""),onClick:s},a)};return!i.pages||i.pages.length<=1?null:c.a.createElement("nav",{className:"pagination"},c.a.createElement("ul",{className:"pagination__list"},f({key:"page-first",text:"First",isDisabled:1===i.currentPage||r,onClick:function(){return m(1)}}),f({key:"page-prev",text:"Previous",isDisabled:1===i.currentPage||r,onClick:function(){return m(i.currentPage-1)}}),i.pages&&i.pages.map((function(e,t){return f({key:"page-".concat(t),text:e,isActive:i.currentPage===e,isDisabled:r,onClick:function(){return m(e)},onlyDesktop:!0})})),f({key:"page-next",text:"Next",isDisabled:i.currentPage===i.totalPages||r,onClick:function(){return m(i.currentPage+1)}}),f({key:"page-last",text:"Last",isDisabled:i.currentPage===i.totalPages||r,onClick:function(){return m(i.totalPages)}})))};a(56),a(57);var T=function(){return c.a.createElement("div",{className:"loader"})};var z=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(null),o=Object(s.a)(l,2),i=o[0],u=o[1],m=Object(n.useState)(y),g=Object(s.a)(m,2),f=g[0],v=g[1],d=Object(n.useState)("stars"),p=Object(s.a)(d,2),b=p[0],h=p[1],E=Object(n.useState)(1),k=Object(s.a)(E,2),_=k[0],C=k[1],N=Object(n.useState)(!1),j=Object(s.a)(N,2),O=j[0],S=j[1];return c.a.createElement("main",{className:"app"},c.a.createElement("div",{className:"search ".concat(a?"search--open":"")},c.a.createElement("div",{className:"search__loader ".concat(O?"search__loader--shown":"")},c.a.createElement(T,null)),c.a.createElement(x,{setIsSearchOpen:r,setResults:u,languages:f,sorting:b,currentPage:_,setIsLoading:S}),c.a.createElement(F,{languages:f,setLanguages:v,sorting:b,setSorting:h})),c.a.createElement(R,{totalItems:i&&i.total_count,setCurrentPage:C,isLoading:O}),c.a.createElement(w,{results:i}))};l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(z,null)),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.1a428cf0.chunk.js.map
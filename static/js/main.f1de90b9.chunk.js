(this["webpackJsonpgithub-search"]=this["webpackJsonpgithub-search"]||[]).push([[0],{22:function(e,t,a){e.exports=a(58)},28:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(18),l=a.n(r),o=(a(27),a(28),a(21)),s=a(7),i=a(8),u=a.n(i),m=a(19),g=a(3),d=a(4),f=a.n(d);a(47);var p=function(e){var t=e.isLoading;return c.a.createElement("div",{className:"loader ".concat(t?"loader--shown":"")},c.a.createElement("div",{className:"loader__inner"}))};a(48);var v=function(e){var t=e.pager,a=e.onPageChange,n=e.isLoading,r=function(e){var t=e.key,a=e.text,r=e.isActive,l=e.isDisabled,o=e.onlyDesktop,s=e.onClick;return c.a.createElement("li",{key:t,className:"pagination__list-item ".concat(r?"pagination__list-item--active":""," ").concat(l||n?"pagination__list-item--disabled":""," ").concat(o?"pagination__list-item--desktop":""),onClick:s},a)};return!t.pages||t.pages.length<=1?null:c.a.createElement("nav",{className:"pagination"},c.a.createElement("ul",{className:"pagination__list"},r({key:"page-first",text:"First",isDisabled:1===t.currentPage,onClick:function(){return a(1)}}),r({key:"page-prev",text:"Previous",isDisabled:1===t.currentPage,onClick:function(){return a(t.currentPage-1)}}),t.pages&&t.pages.map((function(e,n){return r({key:"page-".concat(n),text:e,isActive:t.currentPage===e,onClick:function(){return a(e)},onlyDesktop:!0})})),r({key:"page-next",text:"Next",isDisabled:t.currentPage===t.totalPages,onClick:function(){return a(t.currentPage+1)}}),r({key:"page-last",text:"Last",isDisabled:t.currentPage===t.totalPages,onClick:function(){return a(t.totalPages)}})))};a(49);var h=function(e){var t=e.className,a=e.onClick,n=e.icon;return c.a.createElement("button",{className:"btn ".concat(t||""),onClick:a},n)},b=a(2),E=a.n(b),k=(a(52),Object(n.forwardRef)((function(e,t){var a=e.value,n=e.onChange,r=e.className,l=e.name,o=e.onFocus,s=e.onKeyDown,i=e.onKeyUp,u=e.placeholder,m=void 0===u?"":u,g=e.type,d=void 0===g?"text":g;return c.a.createElement("input",{ref:t,value:a,className:"input ".concat(r||""),name:l,onChange:n,onFocus:o,onKeyDown:s,onKeyUp:i,placeholder:m,type:d,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false"})})));k.propTypes={value:E.a.string,onChange:E.a.func,className:E.a.string,name:E.a.string,onFocus:E.a.func,onKeyDown:E.a.func,onKeyUp:E.a.func,placeholder:E.a.string,type:E.a.string};var y=k;var _=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,c=Object(n.useRef)();Object(n.useEffect)((function(){c.current=t}),[t]),Object(n.useEffect)((function(){if(a&&a.addEventListener){var t=function(e){return c.current(e)};return a.addEventListener(e,t),function(){a.removeEventListener(e,t)}}}),[e,a])};var C=function(){return c.a.createElement("svg",{viewBox:"0 0 24 24",className:"icon icon--search"},c.a.createElement("title",null,"search"),c.a.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}))};var N=function(){return c.a.createElement("svg",{viewBox:"0 0 24 24",className:"icon icon--cross"},c.a.createElement("title",null,"cross"),c.a.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}))};a(53);var S=function(e){var t=e.inputValue,a=e.onInputChange,r=e.openSearch,l=e.closeSearch,o=e.onKeyUpHandler,s=e.onKeyDownHandler,i=Object(n.useRef)(null);return _("keyup",(function(e){13!==e.keyCode&&27!==e.keyCode||l(i)})),c.a.createElement(c.a.Fragment,null,c.a.createElement(h,{className:"btn--search-close",icon:c.a.createElement(N,null),onClick:function(){return l(i)}}),c.a.createElement("div",{className:"search__form"},c.a.createElement(y,{ref:i,value:t,onChange:a,onKeyDown:s,onKeyUp:o,onFocus:function(){return r(i)},className:"search__input",name:"search",type:"search"}),c.a.createElement(h,{className:"btn--search",icon:c.a.createElement(C,null)})))};a(54);var j=function(e){var t=e.itemsFound,a=t&&t.length>0,n=c.a.createElement("div",{className:"results-table__row",role:"rowgroup"},["Id","Name and link","Description","Language","Forks","Stars"].map((function(e,t){return c.a.createElement("div",{key:"header-".concat(t),className:"results-table__col",role:"columnheader"},e)}))),r=t&&t.map((function(e){var t=e.id,a=e.html_url,n=e.name,r=e.description,l=e.language,o=e.forks_count,s=e.stargazers_count;return c.a.createElement("div",{className:"results-table__row",role:"rowgroup",key:t},c.a.createElement("div",{className:"results-table__col results-table__col--left",role:"cell"},t),c.a.createElement("div",{className:"results-table__col",role:"cell"},c.a.createElement("a",{href:a,target:"_blank",rel:"noopener noreferrer"},n)),c.a.createElement("div",{className:"results-table__col results-table__col--left",role:"cell"},r),c.a.createElement("div",{className:"results-table__col",role:"cell"},l),c.a.createElement("div",{className:"results-table__col",role:"cell"},o),c.a.createElement("div",{className:"results-table__col",role:"cell"},s))}));return c.a.createElement("div",{className:"search-results"},a&&c.a.createElement("div",{className:"results-table",role:"table","aria-label":"Search results"},n,r))};a(55);var O=function(e){var t=e.text,a=e.value,n=e.checked,r=e.onChange;return c.a.createElement("label",{className:"radio-btn"},t,c.a.createElement("input",{type:"radio",name:"radio",checked:n,value:a,onChange:r}),c.a.createElement("span",{className:"radio-btn__checkmark"}))};a(56);var w=function(e){var t=e.languages,a=e.onLanguageChange,n=e.sorting,r=e.onSortingChange,l=t&&c.a.createElement("ul",{className:"language-list"},t.map((function(e){return c.a.createElement("li",{key:e.key,className:"language-list__item ".concat(e.isEnabled?"language-list__item--active":""),onClick:function(){return a(e.key)}},e.title)})));return c.a.createElement("div",{className:"search__suggestion"},c.a.createElement("h3",null,"Write Github repo name and hit Enter. Click to filter results by language:"),l,c.a.createElement("div",{className:"sorting-form"},c.a.createElement("span",{className:"sorting-form__title"},"Sort results by"),c.a.createElement(O,{text:"Stars",value:"stars",checked:"stars"===n,onChange:r}),c.a.createElement(O,{text:"Forks",value:"forks",checked:"forks"===n,onChange:r})))},x=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return function(){for(var n=this,c=arguments.length,r=new Array(c),l=0;l<c;l++)r[l]=arguments[l];clearTimeout(t),t=setTimeout((function(){e.apply(n,r)}),a)}},P="https://api.github.com",D=[{key:"javascript",title:"JavaScript",isEnabled:!1},{key:"java",title:"Java",isEnabled:!1},{key:"html",title:"HTML",isEnabled:!1},{key:"c%2B%2B",title:"C++",isEnabled:!1},{key:"python",title:"Python",isEnabled:!1},{key:"css",title:"CSS",isEnabled:!1},{key:"shell",title:"Shell",isEnabled:!1},{key:"c%23",title:"C#",isEnabled:!1},{key:"php",title:"PHP",isEnabled:!1},{key:"c",title:"C",isEnabled:!1}],L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30;try{var n,c,r=Math.ceil(e/a);r<=10?(n=1,c=r):t<=6?(n=1,c=10):t+4>=r?(n=r-9,c=r):(n=t-5,c=t+4);var l=(t-1)*a,o=Math.min(l+a-1,e-1),i=Object(s.a)(Array(c+1-n).keys()).map((function(e){return n+e}));return{totalItems:e,currentPage:t,pageSize:a,totalPages:r,startPage:n,endPage:c,startIndex:l,endIndex:o,pages:i}}catch(u){console.log(u)}},K=a(20),F=a.n(K)()(f.a,{maxCacheSize:100}),T=new RegExp("".concat(P,"/search/repositories"));F.__addFilter(T);var z=F,I=function(e){var t=e.query,a=e.page,n=void 0===a?1:a,c=e.sort,r=void 0===c?"stars":c,l=e.order,o=void 0===l?"desc":l,s=e.languages,i=e.cancelTokenSource;try{var u="";s&&s.forEach((function(e){e.isEnabled&&(u+="+language:".concat(e.key))}));var m="".concat(P,"/search/repositories"),g="q=".concat(t).concat(u),d="sort=".concat(r),p="order=".concat(o),v="page=".concat(n),h="per_page=".concat(30),b="".concat(m,"?").concat(g,"&").concat(d,"&").concat(p,"&").concat(v,"&").concat(h);return z.get(b,{cancelToken:i.token})}catch(E){f.a.isCancel(E)||console.log(E)}};a(57);var H=function(){var e=Object(n.useState)(!1),t=Object(g.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(""),i=Object(g.a)(l,2),d=i[0],h=i[1],b=Object(n.useState)(null),E=Object(g.a)(b,2),k=E[0],y=E[1],_=Object(n.useState)(D),C=Object(g.a)(_,2),N=C[0],O=C[1],P=Object(n.useState)("stars"),K=Object(g.a)(P,2),F=K[0],T=K[1],z=Object(n.useState)({}),H=Object(g.a)(z,2),M=H[0],U=H[1],B=Object(n.useState)(!1),R=Object(g.a)(B,2),q=R[0],A=R[1],J=f.a.CancelToken.source(),V=k&&k.items,G=k&&k.total_count,W=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:G;try{var a=L(t,e,30);U(a)}catch(n){console.log(n)}},Q=function(){var e=Object(m.a)(u.a.mark((function e(t,a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,A(!0),e.next=4,I({query:t,page:a,sort:F,languages:N,cancelTokenSource:J});case 4:(n=e.sent)&&200===n.status&&(y(n.data),a?W(a):W(1,n.data.total_count)),A(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),A(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}(),X=function(e,t){var a=e.trim();a.length>2&&Q(a,t)};Object(n.useEffect)((function(){(N||F)&&X(d)}),[N,F]);var Y=x((function(e){X(e)}),500);return c.a.createElement("main",{className:"app"},c.a.createElement("div",{className:"search ".concat(a?"search--open":"")},c.a.createElement(p,{isLoading:q}),c.a.createElement(S,{inputValue:d,onInputChange:function(e){return h(e.target.value)},openSearch:function(e){try{r(!0),e.current&&e.current.focus()}catch(t){console.log(t)}},closeSearch:function(e){try{r(!1),e.current&&e.current.blur()}catch(t){console.log(t)}},onKeyUpHandler:function(e){return Y(e.target.value)},onKeyDownHandler:function(e){13!==e.keyCode&&J.cancel("Request canceled")}}),c.a.createElement(w,{languages:N,onLanguageChange:function(e){var t=Object(s.a)(N);O(t.map((function(t){return e===t.key?Object(o.a)({},t,{isEnabled:!t.isEnabled}):t})))},sorting:F,onSortingChange:function(e){return T(e.target.value)}})),c.a.createElement(v,{pager:M,onPageChange:function(e){return X(d,e)},isLoading:q}),c.a.createElement(j,{itemsFound:V}))};l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(H,null)),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.f1de90b9.chunk.js.map